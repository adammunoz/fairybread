function Fairybread(e){function t(){var e="fairybread_",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Array.apply(null,Array(20));return s.map(function(s,i){e+=t.charAt(Math.floor(Math.random()*t.length))}),e}function s(e){var t=document.createElement("style");return t.type="text/css",t.id=e,t.rel="stylesheet",t}this.sheetType=e,this.scopeClass="",this.ensureList={},this.id=t(),this.bindSheet=function(e,t){document[t].appendChild(e)},this.cssToJs=function(e){var t=e.split(";"),s={};return t.map(function(e,t){var i=e.split(":");2===i.length&&(s[i[0].trim().toString()]=i[1].trim())}),s},this.sheet=s(this.id),this.specialSheet=!1,this.specialId=t()+"_special",this.rendered=!1,this.rules={},this.index=0,this.specialIndex=0}Fairybread.prototype.getAll=function(){return this.rules},Fairybread.prototype.extend=function(e){return this.rules[e]},Fairybread.prototype.add=function(e,t){"global"!=this.sheetType&&(this.scopeClass="."+this.id),void 0===this.rules[e.toString()]?this.rules[e.toString()]={js:this.cssToJs(t),css:t}:console.error(e+" is ready in this style sheet")},Fairybread.prototype.render=function(e){function t(){var e="";return h.map(function(t){e+=a+" "+t+"{"+i[t].css+"}"}),e=e.replace(/(\r\n|\n|\r)/gm,"").trim()}var s,i=this.rules,r=this.sheet,n=this.bindSheet,a=this.scopeClass,h=Object.keys(i);switch(e){case"raw":var d=t();this.sheet.innerHTML=d,s={js:i,css:d};break;case"body":n(r,"body"),r.innerHTML=t();break;case"head":default:n(r,"head"),r.innerHTML=t()}return this.rendered=!0,s},Fairybread.prototype.addSpecial=function(e){var t=this.specialId;if(this.specialSheet===!1){var s=document.createElement("style");s.type="text/css",s.id=t,s.rel="stylesheet",document.body.appendChild(s),this.specialSheet=document.getElementById(t),this.specialSheet.innerHTML=e}else this.specialSheet.innerHTML+="\n"+e},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=Fairybread:window.Fairybread=Fairybread;