function Fairybread(a){function b(){var a="fairybread_",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=Array.apply(null,Array(20));return c.map(function(c,d){a+=b.charAt(Math.floor(Math.random()*b.length))}),a}function c(a){var b=document.createElement("style");return b.type="text/css",b.id=a,b.rel="stylesheet",b}this.sheetType=a,this.scopeClass="",this.id=b(),this.bindSheet=function(a,b){document[b].appendChild(a)},this.cssToJs=function(a){var b=a.split(";"),c={};return b.map(function(a,b){var d=a.split(":");2===d.length&&(c[d[0].trim().toString()]=d[1].trim())}),c},this.sheet=c(this.id),this.specialSheet=!1,this.specialId=b()+"_special",this.rendered=!1,this.rules={},this.index=0,this.specialIndex=0}Fairybread.prototype.getAll=function(){return this.rules},Fairybread.prototype.extend=function(a){return this.rules[a]},Fairybread.prototype.add=function(a,b){"global"!=this.sheetType&&(this.scopeClass="."+this.id),void 0===this.rules[a.toString()]?this.rules[a.toString()]={js:this.cssToJs(b),css:b}:console.error(a+" is ready in this style sheet")},Fairybread.prototype.render=function(a){function h(){var a="";return g.map(function(b){a+=f+" "+b+"{"+c[b].css+"}"}),a=a.replace(/(\r\n|\n|\r)/gm,"").trim()}var b,c=this.rules,d=this.sheet,e=this.bindSheet,f=this.scopeClass,g=Object.keys(c);switch(a){case"return":var i=h();this.sheet.innerHTML=i,b={js:c,css:i};break;case"head":e(d,"head"),d.innerHTML=h();break;case"body":e(d,"body"),d.innerHTML=h();break;default:e(d,"head"),d.innerHTML=h()}return this.rendered=!0,b},Fairybread.prototype.addSpecial=function(a){var b=this.specialId;if(this.specialSheet===!1){var c=document.createElement("style");c.type="text/css",c.id=b,c.rel="stylesheet",document.body.appendChild(c),this.specialSheet=document.getElementById(b),this.specialSheet.innerHTML=a}else this.specialSheet.innerHTML+="\n"+a},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=Fairybread:window.Fairybread=Fairybread;